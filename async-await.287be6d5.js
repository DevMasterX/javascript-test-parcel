!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},r=n.parcelRequire94c2;null==r&&((r=function(n){if(n in t)return t[n].exports;if(n in e){var r=e[n];delete e[n];var c={id:n,exports:{}};return t[n]=c,r.call(c.exports,c,c.exports),c.exports}var o=Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){e[n]=t},n.parcelRequire94c2=r),r.register;var c=r("i7mVp"),o=r("4tSb9"),i=document.querySelector(".js-search"),u=document.querySelector(".js-add"),a=document.querySelector(".js-list"),l=document.querySelector(".js-form-container"),s='<input type="text" name="country"/>';function f(){return(f=(0,c._)(function(n){return(0,o.__generator)(this,function(t){switch(t.label){case 0:var e;return[4,Promise.allSettled(n.map((e=(0,c._)(function(n){var t;return(0,o.__generator)(this,function(e){switch(e.label){case 0:return[4,fetch("https://restcountries.com/v3.1/name/".concat(n))];case 1:if(!(t=e.sent()).ok)throw Error();return[2,t.json()]}})}),function(n){return e.apply(this,arguments)})))];case 1:return[2,t.sent().filter(function(n){return"fulfilled"===n.status}).map(function(n){return n.value[0]})]}})})).apply(this,arguments)}function p(){return(p=(0,c._)(function(n){var t,e,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:var u;return t="https://api.weatherapi.com/v1",e="1f583b8645b54c449e5214937241512",[4,Promise.allSettled(n.map((u=(0,c._)(function(n){var r,c;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return r=new URLSearchParams({key:e,q:n,lang:"uk"}),[4,fetch("".concat(t,"/current.json?").concat(r))];case 1:if(!(c=o.sent()).ok)throw Error(c.statusText);return[2,c.json()]}})}),function(n){return u.apply(this,arguments)})))];case 1:return console.log(r=i.sent().filter(function(n){return"fulfilled"===n.status}).map(function(n){return n.value})),[2,r]}})})).apply(this,arguments)}u.addEventListener("click",function(){l.insertAdjacentHTML("beforeend",s)}),i.addEventListener("submit",function(n){var t;n.preventDefault(),(function(n){return f.apply(this,arguments)})(new FormData(n.currentTarget).getAll("country").filter(function(n){return n}).map(function(n){return n.trim()})).then((t=(0,c._)(function(n){var t;return(0,o.__generator)(this,function(e){switch(e.label){case 0:return[4,function(n){return p.apply(this,arguments)}(n.map(function(n){return n.capital[0]}))];case 1:return t=e.sent(),a.innerHTML=t.map(function(n){var t=n.current,e=t.temp_c,r=t.condition,c=r.text,o=r.icon,i=n.location,u=i.country,a=i.name;return"  <li>\n        <div>\n          <h2>".concat(u,"</h2>\n          <h3>").concat(a,'</h3>\n          <img src="').concat(o,'" alt="').concat(c,'" />\n          <p>').concat(c,"</p>\n          <p>").concat(e,"</p>\n        </div>\n      </li>")}).join(""),[2]}})}),function(n){return t.apply(this,arguments)})).catch(function(n){return console.log(n)}).finally(function(){l.innerHTML=s,i.reset()})})}();
//# sourceMappingURL=async-await.287be6d5.js.map
