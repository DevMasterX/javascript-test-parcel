{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,I,E,E,S,E,E,SCoHe,SAAA,IAAA,MAAA,AAAA,CAAA,EAAf,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,WACQ,IAAA,E,M,A,C,E,E,W,A,E,I,C,S,C,E,O,E,K,E,K,EAGoB,IAAA,EAWb,OAdP,EAAM,uCAcC,C,EAAM,QAAQ,UAAU,CAXnB,AAFZ,CAAO,gBAAiB,SAAU,U,CAElB,GAAG,EAAC,EAAA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,SAAM,CAAN,EAClB,IAAA,E,M,A,C,E,E,W,A,E,I,C,S,C,E,O,E,K,E,K,EAAW,MAAA,C,EAAM,MAAM,GAAS,MAAA,CAAN,GAAc,MAAA,CAAR,I,A,M,EAEtC,GAFM,EAAW,EAAX,IAAA,GAEF,CAAC,KAAK,EAAE,CACV,MAAM,AAAI,MAAM,aAIlB,MAAA,C,EAAO,EAAS,IAAI,G,A,C,EACtB,GATgC,SAAA,CAAA,E,O,E,K,C,I,C,U,K,A,M,EAYhC,MAAA,C,EADa,EAAP,IAAA,G,A,C,EAER,EAAA,EAjBe,KAAA,CAAA,IAAA,CAAA,U,CAkBf,AAlBe,CAAA,WAAA,OAAA,EAAA,KAAA,CAAA,IAAA,CAAA,U,C,IAmBZ,IAAI,CAAC,SAAA,CADR,EAEI,IAAM,EAAM,EAAK,MAAM,CAAC,SAAxB,CAAA,EAAwC,MAAA,AAAW,cAAxB,EAAA,MAAA,A,GACrB,EAAM,EAAK,MAAM,CAAC,SAAxB,CAAA,EAAwC,MAAA,AAAW,aAAxB,EAAA,MAAA,A,GAC3B,QAAQ,GAAG,CAAC,GACZ,QAAQ,GAAG,CAAC,EACd,GACC,KAAK,CAAC,SAAA,CADP,EACgB,OAAA,QAAQ,GAAG,CAAC,E,E","sources":["<anon>","src/js/async-await.js"],"sourcesContent":["(function () {\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $i7mVp = parcelRequire(\"i7mVp\");\n\nvar $4tSb9 = parcelRequire(\"4tSb9\");\nvar $0d5a634b216ddd29$var$BASE_URL = 'http://localhost:3000';\nfunction $0d5a634b216ddd29$var$getCapital() {\n    return $0d5a634b216ddd29$var$_getCapital.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_getCapital() {\n    $0d5a634b216ddd29$var$_getCapital = // --------------GET---------------------------------\n    // если обрабатываем http запрос только внутри ф - ции и не важно\n    // что - то возвращать с данной ф - ции => используем try...catch\n    (0, $i7mVp._)(function() {\n        var URL, resp1, data, e;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _state.trys.push([\n                        0,\n                        3,\n                        ,\n                        4\n                    ]);\n                    URL = 'https://restcountries.com/v3.1/';\n                    return [\n                        4,\n                        fetch(\"\".concat(URL, \"Ukraine\"))\n                    ];\n                case 1:\n                    resp1 = _state.sent();\n                    if (!resp1.ok) throw new Error(resp1.statusText);\n                    return [\n                        4,\n                        resp1.json()\n                    ];\n                case 2:\n                    data = _state.sent();\n                    console.log(data);\n                    return [\n                        3,\n                        4\n                    ];\n                case 3:\n                    e = _state.sent();\n                    console.log(e);\n                    return [\n                        3,\n                        4\n                    ];\n                case 4:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_getCapital.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$getCapital() {\n    return $0d5a634b216ddd29$var$_getCapital1.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_getCapital1() {\n    $0d5a634b216ddd29$var$_getCapital1 = // когда с данными работаем за пределами ф - ции =>\n    // используем.then().catch();\n    (0, $i7mVp._)(function() {\n        var URL, resp1;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    URL = 'https://restcountries.com/v3.1/';\n                    return [\n                        4,\n                        fetch(\"\".concat(URL, \"Ukraine\"))\n                    ];\n                case 1:\n                    resp1 = _state.sent();\n                    if (!resp1.ok) throw new Error(resp1.statusText);\n                    return [\n                        2,\n                        resp1.json\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_getCapital1.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$fetchBooks() {\n    return $0d5a634b216ddd29$var$_fetchBooks.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_fetchBooks() {\n    $0d5a634b216ddd29$var$_fetchBooks = // getCapital()\n    //   .then(data => console.log(data))\n    //   .catch(error => console.log(error));\n    // ----------------------------------------------\n    (0, $i7mVp._)(function() {\n        var response, books;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        fetch(\"\".concat($0d5a634b216ddd29$var$BASE_URL, \"/books\"))\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    books = _state.sent();\n                    return [\n                        2,\n                        books\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_fetchBooks.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$fetchBookById(bookId) {\n    return $0d5a634b216ddd29$var$_fetchBookById.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_fetchBookById() {\n    $0d5a634b216ddd29$var$_fetchBookById = (0, $i7mVp._)(function(bookId) {\n        var response, book;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        fetch(\"\".concat($0d5a634b216ddd29$var$BASE_URL, \"/books/\").concat(bookId))\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    book = _state.sent();\n                    return [\n                        2,\n                        book\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_fetchBookById.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$addBook(book) {\n    return $0d5a634b216ddd29$var$_addBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_addBook() {\n    $0d5a634b216ddd29$var$_addBook = // ---------------------POST----------------------\n    (0, $i7mVp._)(function(book) {\n        var options, response, newBook;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    options = {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(book)\n                    };\n                    return [\n                        4,\n                        fetch(\"\".concat($0d5a634b216ddd29$var$BASE_URL, \"/books/13\"), options)\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    newBook = _state.sent();\n                    return [\n                        2,\n                        new Book()\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_addBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$removeBook(bookId) {\n    return $0d5a634b216ddd29$var$_removeBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_removeBook() {\n    $0d5a634b216ddd29$var$_removeBook = // ---------------------DELETE---------------------\n    (0, $i7mVp._)(function(bookId) {\n        var url, options, response, book;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    url = \"\".concat($0d5a634b216ddd29$var$BASE_URL, \"/books/\").concat(bookId);\n                    options = {\n                        method: 'DELETE'\n                    };\n                    return [\n                        4,\n                        fetch(url, options)\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    book = _state.sent();\n                    return [\n                        2,\n                        book\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_removeBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$updateBookById(update, bookId) {\n    return $0d5a634b216ddd29$var$_updateBookById.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_updateBookById() {\n    $0d5a634b216ddd29$var$_updateBookById = // ---------------------PUT/PATCH----------------------\n    (0, $i7mVp._)(function(update, bookId) {\n        var options, response, book;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    options = {\n                        method: 'PATCH',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(update)\n                    };\n                    return [\n                        4,\n                        fetch(\"\".concat($0d5a634b216ddd29$var$BASE_URL, \"/books/\").concat(bookId), options)\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    book = _state.sent();\n                    return [\n                        2,\n                        book\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_updateBookById.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$addAndRenderBook() {\n    return $0d5a634b216ddd29$var$_addAndRenderBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_addAndRenderBook() {\n    $0d5a634b216ddd29$var$_addAndRenderBook = // ------------------USAGE--------------------------------------\n    (0, $i7mVp._)(function() {\n        var book, error;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _state.trys.push([\n                        0,\n                        2,\n                        ,\n                        3\n                    ]);\n                    return [\n                        4,\n                        $0d5a634b216ddd29$var$addBook({})\n                    ];\n                case 1:\n                    book = _state.sent();\n                    console.log(book);\n                    return [\n                        3,\n                        3\n                    ];\n                case 2:\n                    error = _state.sent();\n                    console.log(error);\n                    return [\n                        3,\n                        3\n                    ];\n                case 3:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_addAndRenderBook.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$getCapital1() {\n    return $0d5a634b216ddd29$var$_getCapital11.apply(this, arguments);\n}\nfunction $0d5a634b216ddd29$var$_getCapital11() {\n    $0d5a634b216ddd29$var$_getCapital11 = // ---------------------------------------------\n    // ----------------ПАРАЛЛЕЛЬНЫЕ ЗАПРОСЫ---------------------\n    (0, $i7mVp._)(function() {\n        var URL, arr, responses, prom;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    URL = 'https://restcountries.com/v3.1/name/';\n                    arr = [\n                        'Ukrainerrrrrr',\n                        'France',\n                        'Germany'\n                    ];\n                    responses = arr.map(/*#__PURE__*/ function() {\n                        var _ref = (0, $i7mVp._)(function(country) {\n                            var response;\n                            return (0, $4tSb9.__generator)(this, function(_state) {\n                                switch(_state.label){\n                                    case 0:\n                                        return [\n                                            4,\n                                            fetch(\"\".concat(URL).concat(country))\n                                        ];\n                                    case 1:\n                                        response = _state.sent();\n                                        if (!resp.ok) throw new Error('Not found');\n                                        return [\n                                            2,\n                                            response.json()\n                                        ];\n                                }\n                            });\n                        });\n                        return function(country) {\n                            return _ref.apply(this, arguments);\n                        };\n                    }());\n                    return [\n                        4,\n                        Promise.allSettled(responses)\n                    ];\n                case 1:\n                    prom = _state.sent();\n                    return [\n                        2,\n                        prom\n                    ];\n            }\n        });\n    });\n    return $0d5a634b216ddd29$var$_getCapital11.apply(this, arguments);\n}\n$0d5a634b216ddd29$var$getCapital1().then(function(data) {\n    var res = data.filter(function(param) {\n        var status = param.status;\n        return status === 'fulfilled';\n    });\n    var rej = data.filter(function(param) {\n        var status = param.status;\n        return status === 'rejected';\n    });\n    console.log(res);\n    console.log(rej);\n}).catch(function(error) {\n    return console.log(error);\n});\n\n})();\n//# sourceMappingURL=async-await.4ec0e9eb.js.map\n","const BASE_URL = 'http://localhost:3000';\n\n// --------------GET---------------------------------\n\n// если обрабатываем http запрос только внутри ф - ции и не важно\n// что - то возвращать с данной ф - ции => используем try...catch\n\nasync function getCapital() {\n  try {\n    const URL = 'https://restcountries.com/v3.1/';\n    const resp = await fetch(`${URL}Ukraine`);\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    const data = await resp.json();\n    console.log(data);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\n// когда с данными работаем за пределами ф - ции =>\n// используем.then().catch();\n\nasync function getCapital() {\n  const URL = 'https://restcountries.com/v3.1/';\n  const resp = await fetch(`${URL}Ukraine`);\n  if (!resp.ok) {\n    throw new Error(resp.statusText);\n  }\n  return resp.json;\n}\n\n// getCapital()\n//   .then(data => console.log(data))\n//   .catch(error => console.log(error));\n\n// ----------------------------------------------\n\nasync function fetchBooks() {\n  const response = await fetch(`${BASE_URL}/books`);\n  const books = await response.json();\n\n  return books;\n}\n\nasync function fetchBookById(bookId) {\n  const response = await fetch(`${BASE_URL}/books/${bookId}`);\n  const book = await response.json();\n\n  return book;\n}\n\n// ---------------------POST----------------------\n\nasync function addBook(book) {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(book),\n  };\n\n  const response = await fetch(`${BASE_URL}/books/13`, options);\n  const newBook = await response.json();\n\n  return new Book();\n}\n\n// ---------------------DELETE---------------------\n\nasync function removeBook(bookId) {\n  const url = `${BASE_URL}/books/${bookId}`;\n  const options = {\n    method: 'DELETE',\n  };\n\n  const response = await fetch(url, options);\n  const book = await response.json();\n\n  return book;\n}\n\n// ---------------------PUT/PATCH----------------------\n\nasync function updateBookById(update, bookId) {\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(update),\n  };\n\n  const response = await fetch(`${BASE_URL}/books/${bookId}`, options);\n  const book = await response.json();\n\n  return book;\n}\n\n// ------------------USAGE--------------------------------------\n\nasync function addAndRenderBook() {\n  try {\n    const book = await addBook({});\n    console.log(book);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// ---------------------------------------------\n\n// ----------------ПАРАЛЛЕЛЬНЫЕ ЗАПРОСЫ---------------------\n\nasync function getCapital1() {\n  const URL = 'https://restcountries.com/v3.1/name/';\n  const arr = ['Ukrainerrrrrr', 'France', 'Germany'];\n\n  const responses = arr.map(async country => {\n    const response = await fetch(`${URL}${country}`);\n\n    if (!resp.ok) {\n      throw new Error('Not found');\n      // Promise.reject('Not found');\n    }\n\n    return response.json();\n  });\n\n  const prom = await Promise.allSettled(responses);\n  return prom;\n}\ngetCapital1()\n  .then(data => {\n    const res = data.filter(({ status }) => status === 'fulfilled');\n    const rej = data.filter(({ status }) => status === 'rejected');\n    console.log(res);\n    console.log(rej);\n  })\n  .catch(error => console.log(error));\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$i7mVp","$4tSb9","$0d5a634b216ddd29$var$_getCapital11","_","URL","__generator","_state","label","_ref","Promise","allSettled","arr","map","country","response","fetch","concat","sent","resp","ok","json","apply","arguments","$0d5a634b216ddd29$var$getCapital1","then","data","res","filter","param","status","rej","console","log","catch","error"],"version":3,"file":"async-await.4ec0e9eb.js.map"}