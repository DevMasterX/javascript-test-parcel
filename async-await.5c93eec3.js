const e=document.querySelector(".js-search"),t=document.querySelector(".js-add");document.querySelector(".js-list");const r=document.querySelector(".js-form-container");async function n(e){let t=e.map(async e=>{let t=await fetch(`https://restcountries.com/v3.1/name/${e}`);if(!t.ok)throw Error();return t.json()});return(await Promise.allSettled(t)).filter(({status:e})=>"fulfilled"===e).map(({value:e})=>e[0])}async function a(e){let t=e.map(async e=>{let t=new URLSearchParams({key:"1f583b8645b54c449e5214937241512",q:e,lang:"uk"}),r=await fetch(`https://api.weatherapi.com/v1/current.json?${t}`);if(!r.ok)throw Error(r.statusText);return r.json()}),r=(await Promise.allSettled(t)).filter(({status:e})=>"fulfilled"===e).map(({value:e})=>e.current);return console.log(r),r}t.addEventListener("click",function(){r.insertAdjacentHTML("beforeend",'<input type="text" name="country"/>')}),e.addEventListener("submit",function(e){e.preventDefault(),n(new FormData(e.currentTarget).getAll("country").filter(e=>e).map(e=>e.trim())).then(async e=>{let t=e.map(({capital:e})=>e[0]);console.log("\uD83D\uDE80  weatherService:",await a(t))}).catch(e=>console.log(e))});
//# sourceMappingURL=async-await.5c93eec3.js.map
